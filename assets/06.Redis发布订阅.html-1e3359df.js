import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as a,c as r,a as e,b as c,d as n,e as s}from"./app-e12ad880.js";const h={},i=s('<h1 id="redis-发布订阅" tabindex="-1"><a class="header-anchor" href="#redis-发布订阅" aria-hidden="true">#</a> Redis 发布订阅</h1><blockquote><p>Redis 发布订阅 (pub/sub) 是一种消息通信模式：发送者 (pub) 发送消息，订阅者 (sub) 接收消息。</p><p>关键词：<code>订阅</code>、<code>频道</code>、<code>模式</code></p></blockquote><p>Redis 有两种发布订阅模式</p><ul><li>基于频道（Channel）的发布订阅</li><li>基于模式（Pattern）的发布订阅</li></ul><h2 id="基于频道的发布订阅" tabindex="-1"><a class="header-anchor" href="#基于频道的发布订阅" aria-hidden="true">#</a> 基于频道的发布订阅</h2><p>服务器状态在 <code>pubsub_channels</code> 字典保存了所有频道的订阅关系： <code>SUBSCRIBE</code> 命令负责将客户端和被订阅的频道关联到这个字典里面， 而 <code>UNSUBSCRIBE</code> 命令则负责解除客户端和被退订频道之间的关联。</p><h2 id="基于模式的发布订阅" tabindex="-1"><a class="header-anchor" href="#基于模式的发布订阅" aria-hidden="true">#</a> 基于模式的发布订阅</h2><p>服务器状态在 <code>pubsub_patterns</code> 链表保存了所有模式的订阅关系： <code>PSUBSCRIBE</code> 命令负责将客户端和被订阅的模式记录到这个链表中， 而 <code>UNSUBSCRIBE</code> 命令则负责移除客户端和被退订模式在链表中的记录。</p><h2 id="发布订阅命令" tabindex="-1"><a class="header-anchor" href="#发布订阅命令" aria-hidden="true">#</a> 发布订阅命令</h2><p>Redis 提供了 5 个订阅与发布命令：</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>SUBSCRIBE</code></td><td>订阅指定频道</td></tr><tr><td><code>UNSUBSCRIBE</code></td><td>取消订阅指定频道</td></tr><tr><td><code>PSUBSCRIBE</code></td><td>订阅符合指定模式的频道</td></tr><tr><td><code>PUNSUBSCRIBE</code></td><td>取消订阅符合指定模式的频道</td></tr><tr><td><code>PUBLISH</code></td><td>发送信息到指定的频道</td></tr><tr><td><code>PUBSUB</code></td><td>查看发布订阅状态</td></tr></tbody></table><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料" aria-hidden="true">#</a> 参考资料</h2>',12),l={href:"https://item.jd.com/11486101.html",target:"_blank",rel:"noopener noreferrer"};function _(p,u){const d=o("ExternalLinkIcon");return a(),r("div",null,[i,e("ul",null,[e("li",null,[e("a",l,[c("《Redis 设计与实现》"),n(d)])])])])}const S=t(h,[["render",_],["__file","06.Redis发布订阅.html.vue"]]);export{S as default};
